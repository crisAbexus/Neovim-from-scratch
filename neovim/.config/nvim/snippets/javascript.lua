local ls = require("luasnip") --{{{
local s = ls.s
local i = ls.i
local t = ls.t

local d = ls.dynamic_node
local c = ls.choice_node
local f = ls.function_node
local sn = ls.snippet_node

local fmt = require("luasnip.extras.fmt").fmt
local rep = require("luasnip.extras").rep

local snippets, autosnippets = {}, {} --}}}

local group = vim.api.nvim_create_augroup("Javascript Snippets", { clear = true })
local file_pattern = "*.js"

local function cs(trigger, nodes, opts) --{{{
  local snippet = s(trigger, nodes)
  local target_table = snippets

  local pattern = file_pattern
  local keymaps = {}

  if opts ~= nil then
    -- check for custom pattern
    if opts.pattern then
      pattern = opts.pattern
    end

    -- if opts is a string
    if type(opts) == "string" then
      if opts == "auto" then
        target_table = autosnippets
      else
        table.insert(keymaps, { "i", opts })
      end
    end

    -- if opts is a table
    if opts ~= nil and type(opts) == "table" then
      for _, keymap in ipairs(opts) do
        if type(keymap) == "string" then
          table.insert(keymaps, { "i", keymap })
        else
          table.insert(keymaps, keymap)
        end
      end
    end

    -- set autocmd for each keymap
    if opts ~= "auto" then
      for _, keymap in ipairs(keymaps) do
        vim.api.nvim_create_autocmd("BufEnter", {
          pattern = pattern,
          group = group,
          callback = function()
            vim.keymap.set(keymap[1], keymap[2], function()
              ls.snip_expand(snippet)
            end, { noremap = true, silent = true, buffer = true })
          end,
        })
      end
    end
  end

  table.insert(target_table, snippet) -- insert snippet into appropriate table
end --}}}

-- Old Style --

local if_fmt_arg = { --{{{
  i(1, ""),
  c(2, { i(1, "LHS"), i(1, "10") }),
  c(3, { i(1, "==="), i(1, "<"), i(1, ">"), i(1, "<="), i(1, ">="), i(1, "!==") }),
  i(4, "RHS"),
  i(5, "//TODO:"),
}
local if_fmt_1 = fmt(
  [[
{}if ({} {} {}) {};
    ]],
  vim.deepcopy(if_fmt_arg)
)
local if_fmt_2 = fmt(
  [[
{}if ({} {} {}) {{
  {};
}}
    ]],
  vim.deepcopy(if_fmt_arg)
)

local if_snippet = s(
  { trig = "IF", regTrig = false, hidden = true },
  c(1, {
    if_fmt_1,
    if_fmt_2,
  })
) --}}}
local function_fmt = fmt(--{{{
  [[
function {}({}) {{
  {}
}}
    ]],
  {
    i(1, "myFunc"),
    c(2, { i(1, "arg"), i(1, "") }),
    i(3, "//TODO:"),
  }
)

local function_snippet = s({ trig = "f[un]?", regTrig = true, hidden = true }, function_fmt)
local function_snippet_func = s({ trig = "func" }, vim.deepcopy(function_fmt)) --}}}

local short_hand_if_fmt = fmt(--{{{
  [[
if ({}) {}
{}
    ]],
  {
    d(1, function(_, snip)
      -- return sn(1, i(1, snip.captures[1]))
      return sn(1, t(snip.captures[1]))
    end),
    d(2, function(_, snip)
      return sn(2, t(snip.captures[2]))
    end),
    i(3, ""),
  }
)
local short_hand_if_statement = s({ trig = "if[>%s](.+)>>(.+)\\", regTrig = true, hidden = true }, short_hand_if_fmt)

local short_hand_if_statement_return_shortcut = s({ trig = "(if[>%s].+>>)[r<]", regTrig = true, hidden = true }, {
  f(function(_, snip)
    return snip.captures[1]
  end),
  t("return "),
}) --}}}
table.insert(autosnippets, if_snippet)
table.insert(autosnippets, short_hand_if_statement)
table.insert(autosnippets, short_hand_if_statement_return_shortcut)
table.insert(snippets, function_snippet)
table.insert(snippets, function_snippet_func)

-- snippets strats here--

cs(-- for([%w_]+) JS For Loop snippet{{{
  { trig = "for([%w_]+)", regTrig = true, hidden = true },
  fmt(
    [[
for (let {} = 0; {} < {}; {}++) {{
  {}
}}

{}
    ]],
    {
      d(1, function(_, snip)
        return sn(1, i(1, snip.captures[1]))
      end),
      rep(1),
      c(2, { i(1, "num"), sn(1, { i(1, "arr"), t(".length") }) }),
      rep(1),
      i(3, "// TODO:"),
      i(4),
    }
  )
) --}}}
cs(-- [while] JS While Loop snippet{{{
  "while",
  fmt(
    [[
while ({}) {{
  {}
}}
  ]] ,
    {
      i(1, ""),
      i(2, "// TODO:"),
    }
  )
) --}}}

--console.log(`%c $TM_FILENAME:$TM_LINE_NUMBER - $CLIPBOARD`, 'font-weight: bold; background: #'+('000000' + (Math.round(250-(50_000*((($TM_LINE_NUMBER+40.5)**(0.9))+6)**(-1.5))) * 0x10000 + (255-Math.round(250-(50_000*((($TM_LINE_NUMBER+40.5)**(0.9))+6)**(-1.5)))) * 0x100).toString(16)).slice(-6)+'; color:#fff;')// DELETEME\n

cs(-- for([%w_]+) JS For Loop snippet{{{
  { trig = "cng ([%w_]+) ", regTrig = true },
  fmt(
    [[
console.log(`%c {} = 0; {} < {}; {}++) {{
  {}
}}
{}
    ]],
    {
      d(1, function(_, snip)
        local emojis = { "ðŸ’¯", "ðŸ”¢", "ðŸ˜€", "ðŸ˜ƒ", "ðŸ˜„", "ðŸ˜", "ðŸ˜†", "ðŸ˜†", "ðŸ˜…", "ðŸ˜‚", "ðŸ™ƒ", "ðŸ˜‰",
          "ðŸ˜Š", "ðŸ˜‡", "ðŸ˜", "ðŸ˜˜", "ðŸ˜—", "â˜ºï¸", "ðŸ˜š", "ðŸ˜™", "ðŸ˜‹", "ðŸ˜Ÿ", "â˜¹ï¸", "ðŸ˜®", "ðŸ˜¯", "ðŸ˜²",
          "ðŸ˜³", "ðŸ˜¦", "ðŸ˜§", "ðŸ˜¨", "ðŸ˜°", "ðŸ˜¥", "ðŸ˜¢", "ðŸ˜­", "ðŸ˜±", "ðŸ˜–", "ðŸ˜£", "ðŸ˜ž", "ðŸ˜“", "ðŸ˜©",
          "ðŸ˜«", "ðŸ˜¤", "ðŸ˜¡", "ðŸ˜¡", "ðŸ˜ ", "ðŸ˜ˆ", "ðŸ‘¿", "ðŸ’€", "â˜ ï¸", "ðŸ’©", "ðŸ’©", "ðŸ’©", "ðŸ‘¹", "ðŸ‘º",
          "ðŸ‘»", "ðŸ‘½", "ðŸ‘¾", "ðŸ¤–", "ðŸ˜º", "ðŸ˜¸", "ðŸ˜¹", "ðŸ˜»", "ðŸ˜¼", "ðŸ˜½", "ðŸ™€", "ðŸ˜¿", "ðŸ˜¾", "ðŸ™ˆ",
          "ðŸ™‰", "ðŸ™Š", "ðŸ’‹", "ðŸ’Œ", "ðŸ’˜", "ðŸ’", "ðŸ’–", "ðŸ’—", "ðŸ’“", "ðŸ’ž", "ðŸ’•", "ðŸ’Ÿ", "â£ï¸", "ðŸ’”",
          "â¤ï¸", "ðŸ’›", "ðŸ’š", "ðŸ’™", "ðŸ’œ", "ðŸ’¢", "ðŸ’¥", "ðŸ’¥", "ðŸ’«", "ðŸ’¦", "ðŸ’¨", "ðŸ•³ï¸", "ðŸ’£",
          "ðŸ’¬", "ðŸ‘", "ðŸ‘", "ðŸ‘Ž", "âœŠ", "ðŸ‘Š", "ðŸ‘", "ðŸ™Œ", "ðŸ‘", "ðŸ™", "âœï¸", "ðŸ’…", "ðŸ’ª", "ðŸ‘‚",
          "ðŸ‘ƒ", "ðŸ«€", "ðŸ«", "ðŸ‘€", "ðŸ‘ï¸", "ðŸ‘…", "ðŸ‘„", "ðŸ‘¶", "ðŸ‘¦", "ðŸ‘§", "ðŸ®", "ðŸ‚", "ðŸƒ", "ðŸ„",
          "ðŸ·", "ðŸ–", "ðŸ—", "ðŸ½", "ðŸ", "ðŸ‘", "ðŸ", "ðŸ«", "ðŸ˜", "ðŸ­", "ðŸ", "ðŸ€", "ðŸ¹", "ðŸ°",
          "ðŸ‡", "ðŸ¿ï¸", "ðŸ¾", "ðŸ”", "ðŸ“", "ðŸ£", "ðŸ¤", "ðŸ¥", "ðŸ¦", "ðŸ§", "ðŸ•Šï¸", "ðŸª¶", "ðŸ¸",
          "ðŸŠ", "ðŸ¢", "ðŸ", "ðŸ²", "ðŸ‰", "ðŸ¦–", "ðŸ³", "ðŸ‹", "ðŸ¬", "ðŸ¬", "ðŸŸ", "ðŸ ", "ðŸ¡", "ðŸ™",
          "ðŸš", "ðŸŒ", "ðŸ›", "ðŸ’", "ðŸŒ¸", "ðŸ’®", "ðŸµï¸", "ðŸŒ¹", "ðŸŒº", "ðŸŒ»", "ðŸŒ¼", "ðŸŒ·", "ðŸŒ±", "ðŸª´",
          "ðŸŒ²", "ðŸŒ³", "ðŸŒ´", "ðŸŒµ", "ðŸŒ¾", "ðŸŒ¿", "â˜˜ï¸", "ðŸ€", "ðŸ", "ðŸ‚", "ðŸƒ", "ðŸ‡", "ðŸˆ", "ðŸ‰",
          "ðŸŠ", "ðŸŠ", "ðŸŠ", "ðŸ‹", "ðŸŒ", "ðŸ", "ðŸŽ", "ðŸ", "ðŸ", "ðŸ‘", "ðŸ’", "ðŸ“", "ðŸ«", "ðŸ…",
          "ðŸ«’", "ðŸ†", "ðŸŒ½", "ðŸŒ¶ï¸", "ðŸ«‘", "ðŸ„", "ðŸŒ°", "ðŸž", "ðŸ«“", "ðŸ–", "ðŸ—", "ðŸ¥©", "ðŸ¥“", "ðŸ”",
          "ðŸŸ", "ðŸ•", "ðŸ³", "ðŸ¥˜", "ðŸ²", "ðŸ«•", "ðŸ±", "ðŸ˜", "ðŸ™", "ðŸš", "ðŸ›", "ðŸœ", "ðŸ", "ðŸ ",
          "ðŸ¢", "ðŸ£", "ðŸ¤", "ðŸ¥", "ðŸ¡", "ðŸ¦", "ðŸ§", "ðŸ¨", "ðŸ©", "ðŸª", "ðŸŽ‚", "ðŸ°", "ðŸ«", "ðŸ¬",
          "ðŸ­", "ðŸ®", "ðŸ¯", "ðŸ¼", "â˜•", "ðŸ«–", "ðŸµ", "ðŸ¶", "ðŸ·", "ðŸ¸", "ðŸ¹", "ðŸº", "ðŸ»", "ðŸ½ï¸",
          "ðŸ´", "ðŸ”ª", "ðŸ›–", "ðŸ˜ï¸", "ðŸšï¸", "ðŸ ", "ðŸ¡", "ðŸ¢", "ðŸ£", "ðŸ¤", "ðŸ¥", "ðŸ¦", "ðŸ¨",
          "ðŸ©", "ðŸª", "ðŸ«", "ðŸ¬", "ðŸ­", "ðŸ¯", "ðŸ°", "ðŸ’’", "ðŸ—¼", "ðŸ—½", "â›ª", "ðŸ•Œ", "ðŸ›•", "â›©ï¸",
          "â›²", "â›º", "ðŸŒ", "ðŸŒƒ", "ðŸ™ï¸", "ðŸŒ„", "ðŸŒ…", "ðŸŒ†", "ðŸŒ‡", "ðŸŒ‰", "â™¨ï¸", "ðŸŽ ", "ðŸŽ¡", "ðŸŽ¢",
          "ðŸ’ˆ", "ðŸŽª", "ðŸš‚", "ðŸšƒ", "ðŸš„", "ðŸš…", "ðŸš†", "ðŸš‡", "ðŸšˆ", "ðŸš‰", "ðŸšŠ", "ðŸš", "ðŸšž", "ðŸš‹",
          "ðŸšŒ", "ðŸš", "ðŸšŽ", "ðŸš", "ðŸš‘", "ðŸš’", "ðŸš“", "ðŸš”", "ðŸš•", "ðŸš–", "ðŸš—", "ðŸš—", "ðŸš˜", "ðŸš™",
          "ðŸš", "ðŸšŸ", "ðŸš ", "ðŸš¡", "ðŸ›°ï¸", "ðŸš€", "ðŸ›¸", "ðŸ›Žï¸", "ðŸ§³", "âŒ›", "â³", "âŒš", "â°", "â±ï¸",
          "â²ï¸", "ðŸ•°ï¸", "ðŸ•›", "ðŸ•§", "ðŸ•", "ðŸ•œ", "ðŸ•‘", "ðŸ•", "ðŸ•’", "ðŸ•ž", "ðŸ•“", "ðŸ•Ÿ", "ðŸ•”",
          "ðŸ• ", "ðŸ••", "ðŸ•¡", "ðŸ•–", "ðŸ•¢", "ðŸ•—", "ðŸ•£", "ðŸ•˜", "ðŸ•¤", "ðŸ•™", "ðŸ•¥", "ðŸ•š", "ðŸ•¦", "ðŸŒ‘",
          "ðŸŒ’", "ðŸŒ“", "ðŸŒ”", "ðŸŒ”", "ðŸŒ•", "ðŸŒ–", "ðŸŒ—", "ðŸŒ˜", "ðŸŒ™", "ðŸŒš", "ðŸŒ›", "ðŸŒœ", "ðŸŒ¡ï¸", "â˜€ï¸",
          "ðŸŒ", "ðŸŒž", "ðŸª", "â­", "ðŸŒŸ", "ðŸŒ ", "ðŸŒŒ", "â˜ï¸", "â›…", "â›ˆï¸", "ðŸŒ¤ï¸", "ðŸŒ¥ï¸", "ðŸŒ¦ï¸",
          "ðŸŒ§ï¸", "ðŸŒ¨ï¸", "ðŸŒ©ï¸", "ðŸŒªï¸", "ðŸŒ«ï¸", "ðŸŒ¬ï¸", "ðŸŒ€", "ðŸŒˆ", "ðŸŒ‚", "â˜‚ï¸", "â˜”", "â›±ï¸",
          "âš¡", "â„ï¸", "â˜ƒï¸", "â›„", "â˜„ï¸", "ðŸ”¥", "ðŸ’§", "ðŸŒŠ", "ðŸŽƒ", "ðŸŽ„", "ðŸŽ†", "ðŸŽ‡", "ðŸ§¨", "âœ¨",
          "ðŸŽˆ", "ðŸŽ‰", "ðŸŽŠ", "ðŸŽ‹", "ðŸŽ", "ðŸŽŽ", "ðŸŽ", "ðŸŽ", "ðŸŽ‘", "ðŸ§§", "ðŸŽ€", "ðŸŽ", "ðŸŽ—ï¸", "ðŸŽŸï¸",
          "ðŸŽ«", "ðŸŽ–ï¸", "ðŸ†", "âš½", "âš¾", "ðŸ€", "ðŸˆ", "ðŸ‰", "ðŸŽ¾", "ðŸŽ³", "â›³", "â›¸ï¸", "ðŸŽ£", "ðŸŽ½",
          "ðŸŽ¿", "ðŸ›·", "ðŸŽ¯", "ðŸª€", "ðŸª", "ðŸŽ±", "ðŸ”®", "ðŸª„", "ðŸŽ®", "ðŸƒ", "ðŸ€„", "ðŸŽ´", "ðŸŽ­", "ðŸ–¼ï¸",
          "ðŸŽ¨", "ðŸª¡", "ðŸ§¶", "ðŸª¢", "ðŸ‘“", "ðŸ•¶ï¸", "ðŸ©²", "ðŸ©³", "ðŸ‘™", "ðŸ‘š", "ðŸ‘›", "ðŸ‘œ", "ðŸ‘", "ðŸ›ï¸",
          "ðŸŽ’", "ðŸ©´", "ðŸ‘ž", "ðŸ‘ž", "ðŸ‘Ÿ", "ðŸ’", "ðŸ’Ž", "ðŸ”‡", "ðŸ”ˆ", "ðŸ”‰", "ðŸ”Š", "ðŸ“¢", "ðŸ“£", "ðŸ“¯",
          "ðŸ””", "ðŸ”•", "ðŸŽ¼", "ðŸŽµ", "ðŸŽ¶", "ðŸŽ™ï¸", "ðŸŽšï¸", "ðŸŽ›ï¸", "ðŸŽ¤", "ðŸŽ§", "ðŸ“»", "ðŸŽ·", "ðŸª—",
          "ðŸŽ¸", "ðŸŽ¹", "ðŸŽº", "ðŸŽ»", "ðŸª•", "ðŸ¥", "ðŸª˜", "ðŸ“±", "ðŸ“²", "â˜Žï¸", "â˜Žï¸", "ðŸ“ž", "ðŸ“Ÿ", "ðŸ“ ",
          "ðŸ”‹", "ðŸ”Œ", "ðŸ’»", "ðŸ–¥ï¸", "ðŸ–¨ï¸", "âŒ¨ï¸", "ðŸ–±ï¸", "ðŸ–²ï¸", "ðŸ’½", "ðŸ’¾", "ðŸ’¿", "ðŸ“€",
          "ðŸ§®", "ðŸŽ¥", "ðŸŽžï¸", "ðŸ“½ï¸", "ðŸŽ¬", "ðŸ“º", "ðŸ“·", "ðŸ“¸", "ðŸ“¹", "ðŸ“¼", "ðŸ”", "ðŸ”Ž", "ðŸ•¯ï¸",
          "ðŸ’¡", "ðŸ”¦", "ðŸ®", "ðŸ®", "ðŸª”", "ðŸ“”", "ðŸ“•", "ðŸ“–", "ðŸ“–", "ðŸ“—", "ðŸ“˜", "ðŸ“™", "ðŸ“š", "ðŸ““",
          "ðŸ“’", "ðŸ“ƒ", "ðŸ“œ", "ðŸ“„", "ðŸ“°", "ðŸ—žï¸", "ðŸ“‘", "ðŸ”–", "ðŸ·ï¸", "ðŸ’°", "ðŸª™", "ðŸ’´", "ðŸ’µ",
          "ðŸ’¶", "ðŸ’·", "ðŸ’¸", "ðŸ’³", "ðŸ§¾", "ðŸ’¹", "âœ‰ï¸", "ðŸ“§", "ðŸ“§", "ðŸ“¨", "ðŸ“©", "ðŸ“¤", "ðŸ“¥", "ðŸ“¦",
          "ðŸ“«", "ðŸ“ª", "ðŸ“¬", "ðŸ“­", "ðŸ“®", "ðŸ—³ï¸", "âœï¸", "âœ’ï¸", "ðŸ–‹ï¸", "ðŸ–Šï¸", "ðŸ–Œï¸", "ðŸ–ï¸",
          "ðŸ“", "ðŸ“", "ðŸ’¼", "ðŸ“", "ðŸ“‚", "ðŸ—‚ï¸", "ðŸ“…", "ðŸ“†", "ðŸ—’ï¸", "ðŸ—“ï¸", "ðŸ“‡", "ðŸ“ˆ", "ðŸ“‰",
          "ðŸ“Š", "ðŸ“‹", "ðŸ“Œ", "ðŸ“", "ðŸ“Ž", "ðŸ–‡ï¸", "ðŸ“", "ðŸ“", "âœ‚ï¸", "ðŸ—ƒï¸", "ðŸ—„ï¸", "ðŸ—‘ï¸",
          "ðŸ”’", "ðŸ”“", "ðŸ”", "ðŸ”", "ðŸ”‘", "ðŸ—ï¸", "ðŸ”¨", "ðŸª“", "â›ï¸", "âš’ï¸", "ðŸ› ï¸", "ðŸ—¡ï¸",
          "âš”ï¸", "ðŸ”«", "ðŸªƒ", "ðŸ¹", "ðŸ›¡ï¸", "ðŸªš", "ðŸ”§", "ðŸª›", "ðŸ”©", "âš™ï¸", "ðŸ—œï¸", "âš–ï¸", "ðŸ¦¯",
          "ðŸ”—", "â›“ï¸", "ðŸª", "ðŸ§°", "ðŸ§²", "ðŸªœ", "âš—ï¸", "ðŸ§ª", "ðŸ§«", "ðŸ§¬", "ðŸ”¬", "ðŸ”­", "ðŸ“¡", "ðŸ’‰",
          "ðŸ©¸", "ðŸ’Š", "ðŸ©¹", "ðŸ©º", "ðŸšª", "ðŸ›—", "ðŸªž", "ðŸªŸ", "ðŸ›ï¸", "ðŸ›‹ï¸", "ðŸª‘", "ðŸš½", "ðŸª ",
          "ðŸš¿", "ðŸ›", "ðŸª¤", "ðŸª’", "ðŸ§´", "ðŸ—¿", "ðŸª§", "ðŸ§", "ðŸš®", "ðŸš°", "â™¿", "ðŸš¹", "ðŸšº", "ðŸš»",
          "ðŸš¼", "ðŸš¾", "ðŸ›‚", "ðŸ›ƒ", "ðŸ›„", "ðŸ›…", "âš ï¸", "ðŸš¸", "â›”", "ðŸš«", "ðŸš³", "ðŸš­", "ðŸš¯", "ðŸš±",
          "ðŸš·", "ðŸ“µ", "ðŸ”ž", "â˜¢ï¸", "â˜£ï¸", "â¬†ï¸", "â†—ï¸", "âž¡ï¸", "â†˜ï¸", "â¬‡ï¸", "â†™ï¸", "â¬…ï¸",
          "â†–ï¸", "â†•ï¸", "â†”ï¸", "â†©ï¸", "â†ªï¸", "â¤´ï¸", "â¤µï¸", "ðŸ”ƒ", "ðŸ”„", "ðŸ”™", "ðŸ”š", "ðŸ”›",
          "ðŸ”œ", "ðŸ”", "ðŸ›", "âš›ï¸", "ðŸ•‰ï¸", "âœ¡ï¸", "â˜¸ï¸", "â˜¯ï¸", "âœï¸", "â˜¦ï¸", "â˜ªï¸", "â˜®ï¸",
          "ðŸ•Ž", "ðŸ”¯", "â™ˆ", "â™‰", "â™Š", "â™‹", "â™Œ", "â™", "â™Ž", "â™", "â™", "â™‘", "â™’", "â™“", "â›Ž", "ðŸ”€",
          "ðŸ”", "ðŸ”‚", "â–¶ï¸", "â©", "â­ï¸", "â¯ï¸", "â—€ï¸", "âª", "â®ï¸", "ðŸ”¼", "â«", "ðŸ”½", "â¬",
          "â¸ï¸", "â¹ï¸", "âºï¸", "âï¸", "ðŸŽ¦", "ðŸ”…", "ðŸ”†", "ðŸ“¶", "ðŸ“³", "ðŸ“´", "â™€ï¸", "â™‚ï¸",
          "âš§ï¸", "âœ–ï¸", "âž•", "âž–", "âž—", "â™¾ï¸", "â€¼ï¸", "â‰ï¸", "â“", "â”", "â•", "â—", "â—", "ã€°ï¸",
          "ðŸ’±", "ðŸ’²", "âš•ï¸", "â™»ï¸", "âšœï¸", "ðŸ”±", "ðŸ“›", "ðŸ”°", "â­•", "âœ…", "â˜‘ï¸", "âœ”ï¸", "âŒ",
          "âŽ", "âž°", "âž¿", "ã€½ï¸", "âœ³ï¸", "âœ´ï¸", "â‡ï¸", "Â©ï¸", "Â®ï¸", "â„¢ï¸", "#ï¸âƒ£", "*ï¸âƒ£",
          "0ï¸âƒ£", "1ï¸âƒ£", "2ï¸âƒ£", "3ï¸âƒ£", "4ï¸âƒ£", "5ï¸âƒ£", "6ï¸âƒ£", "7ï¸âƒ£", "8ï¸âƒ£", "9ï¸âƒ£",
          "ðŸ”Ÿ", "ðŸ” ", "ðŸ”¡", "ðŸ”£", "ðŸ”¤", "ðŸ…°ï¸", "ðŸ†Ž", "ðŸ…±ï¸", "ðŸ†‘", "ðŸ†’", "ðŸ†“", "â„¹ï¸", "ðŸ†”",
          "â“‚ï¸", "ðŸ†•", "ðŸ†–", "ðŸ…¾ï¸", "ðŸ†—", "ðŸ…¿ï¸", "ðŸ†˜", "ðŸ†™", "ðŸ†š", "ðŸˆ", "ðŸˆ‚ï¸", "ðŸ‰", "ðŸ‰‘",
          "ãŠ—ï¸", "ãŠ™ï¸", "ðŸˆµ", "ðŸ”´", "ðŸŸ ", "ðŸŸ¡", "ðŸŸ¢", "ðŸ”µ", "ðŸŸ£", "ðŸŸ¤", "âš«", "âšª", "ðŸŸ¥", "ðŸŸ§",
          "ðŸŸ¨", "ðŸŸ©", "ðŸŸ¦", "ðŸŸª", "ðŸŸ«", "â¬›", "â¬œ", "â—¼ï¸", "â—»ï¸", "â—¾", "â—½", "â–ªï¸", "â–«ï¸", "ðŸ”¶",
          "ðŸ”·", "ðŸ”¸", "ðŸ”¹", "ðŸ”º", "ðŸ”»", "ðŸ‡¦ðŸ‡´", "ðŸ‡¦ðŸ‡¶", "ðŸ‡¦ðŸ‡·", "ðŸ‡¦ðŸ‡¸", "ðŸ‡¦ðŸ‡¹", "ðŸ‡¦ðŸ‡º",
          "ðŸ‡¦ðŸ‡¼", "ðŸ‡¦ðŸ‡½", "ðŸ‡¦ðŸ‡¿", "ðŸ‡§ðŸ‡¦", "ðŸ‡§ðŸ‡§", "ðŸ‡§ðŸ‡©", "ðŸ‡§ðŸ‡ª", "ðŸ‡§ðŸ‡«", "ðŸ‡§ðŸ‡¬",
          "ðŸ‡§ðŸ‡­", "ðŸ‡§ðŸ‡®", "ðŸ‡§ðŸ‡¯", "ðŸ‡§ðŸ‡±", "ðŸ‡§ðŸ‡²", "ðŸ‡§ðŸ‡³", "ðŸ‡§ðŸ‡´", "ðŸ‡§ðŸ‡¶", "ðŸ‡§ðŸ‡·",
          "ðŸ‡§ðŸ‡¸", "ðŸ‡§ðŸ‡¹", "ðŸ‡§ðŸ‡»", "ðŸ‡§ðŸ‡¼", "ðŸ‡§ðŸ‡¾", "ðŸ‡§ðŸ‡¿", "ðŸ‡¨ðŸ‡¦", "ðŸ‡¨ðŸ‡¨", "ðŸ‡¨ðŸ‡©",
          "ðŸ‡¨ðŸ‡«", "ðŸ‡¨ðŸ‡¬", "ðŸ‡¨ðŸ‡­", "ðŸ‡¨ðŸ‡®", "ðŸ‡¨ðŸ‡°", "ðŸ‡¨ðŸ‡±", "ðŸ‡¨ðŸ‡²", "ðŸ‡¨ðŸ‡³", "ðŸ‡¨ðŸ‡´",
          "ðŸ‡¨ðŸ‡µ", "ðŸ‡¨ðŸ‡·", "ðŸ‡¨ðŸ‡º", "ðŸ‡¨ðŸ‡»", "ðŸ‡¨ðŸ‡¼", "ðŸ‡¨ðŸ‡½", "ðŸ‡¨ðŸ‡¾", "ðŸ‡¨ðŸ‡¿", "ðŸ‡©ðŸ‡ª",
          "ðŸ‡©ðŸ‡¬", "ðŸ‡©ðŸ‡¯", "ðŸ‡©ðŸ‡°", "ðŸ‡©ðŸ‡²", "ðŸ‡©ðŸ‡´", "ðŸ‡©ðŸ‡¿", "ðŸ‡ªðŸ‡¦", "ðŸ‡ªðŸ‡¨", "ðŸ‡ªðŸ‡ª",
          "ðŸ‡ªðŸ‡¬", "ðŸ‡ªðŸ‡­", "ðŸ‡ªðŸ‡·", "ðŸ‡ªðŸ‡¸", "ðŸ‡ªðŸ‡¹", "ðŸ‡ªðŸ‡º", "ðŸ‡ªðŸ‡º", "ðŸ‡«ðŸ‡®", "ðŸ‡«ðŸ‡¯",
          "ðŸ‡«ðŸ‡°", "ðŸ‡«ðŸ‡²", "ðŸ‡«ðŸ‡´", "ðŸ‡«ðŸ‡·", "ðŸ‡¬ðŸ‡¦", "ðŸ‡¬ðŸ‡§", "ðŸ‡¬ðŸ‡§", "ðŸ‡¬ðŸ‡©", "ðŸ‡¬ðŸ‡ª",
          "ðŸ‡¬ðŸ‡«", "ðŸ‡¬ðŸ‡¬", "ðŸ‡¬ðŸ‡­", "ðŸ‡¬ðŸ‡®", "ðŸ‡¬ðŸ‡±", "ðŸ‡¬ðŸ‡²", "ðŸ‡¬ðŸ‡³", "ðŸ‡¬ðŸ‡µ", "ðŸ‡¬ðŸ‡¶",
          "ðŸ‡¬ðŸ‡·", "ðŸ‡¬ðŸ‡¸", "ðŸ‡¬ðŸ‡¹", "ðŸ‡¬ðŸ‡º", "ðŸ‡¬ðŸ‡¼", "ðŸ‡¬ðŸ‡¾", "ðŸ‡­ðŸ‡°", "ðŸ‡­ðŸ‡²", "ðŸ‡­ðŸ‡³",
          "ðŸ‡­ðŸ‡·", "ðŸ‡­ðŸ‡¹", "ðŸ‡­ðŸ‡º", "ðŸ‡®ðŸ‡¨", "ðŸ‡®ðŸ‡©", "ðŸ‡®ðŸ‡ª", "ðŸ‡®ðŸ‡±", "ðŸ‡®ðŸ‡²", "ðŸ‡®ðŸ‡³",
          "ðŸ‡®ðŸ‡´", "ðŸ‡®ðŸ‡¶", "ðŸ‡®ðŸ‡·", "ðŸ‡®ðŸ‡¸", "ðŸ‡®ðŸ‡¹", "ðŸ‡¯ðŸ‡ª", "ðŸ‡¯ðŸ‡²", "ðŸ‡¯ðŸ‡´", "ðŸ‡¯ðŸ‡µ",
          "ðŸ‡°ðŸ‡ª", "ðŸ‡°ðŸ‡¬", "ðŸ‡°ðŸ‡­", "ðŸ‡°ðŸ‡®", "ðŸ‡°ðŸ‡²", "ðŸ‡°ðŸ‡³", "ðŸ‡°ðŸ‡µ", "ðŸ‡°ðŸ‡·", "ðŸ‡°ðŸ‡¼",
          "ðŸ‡°ðŸ‡¾", "ðŸ‡°ðŸ‡¿", "ðŸ‡±ðŸ‡¦", "ðŸ‡±ðŸ‡§", "ðŸ‡±ðŸ‡¨", "ðŸ‡±ðŸ‡®", "ðŸ‡±ðŸ‡°", "ðŸ‡±ðŸ‡·", "ðŸ‡±ðŸ‡¸",
          "ðŸ‡±ðŸ‡¹", "ðŸ‡±ðŸ‡º", "ðŸ‡±ðŸ‡»", "ðŸ‡±ðŸ‡¾", "ðŸ‡²ðŸ‡¦", "ðŸ‡²ðŸ‡¨", "ðŸ‡²ðŸ‡©", "ðŸ‡²ðŸ‡ª", "ðŸ‡²ðŸ‡«",
          "ðŸ‡²ðŸ‡¬", "ðŸ‡²ðŸ‡­", "ðŸ‡²ðŸ‡°", "ðŸ‡²ðŸ‡±", "ðŸ‡²ðŸ‡²", "ðŸ‡²ðŸ‡³", "ðŸ‡²ðŸ‡´", "ðŸ‡²ðŸ‡µ", "ðŸ‡²ðŸ‡¶",
          "ðŸ‡²ðŸ‡·", "ðŸ‡²ðŸ‡¸", "ðŸ‡²ðŸ‡¹", "ðŸ‡²ðŸ‡º", "ðŸ‡²ðŸ‡»", "ðŸ‡²ðŸ‡¼", "ðŸ‡²ðŸ‡½", "ðŸ‡²ðŸ‡¾", "ðŸ‡²ðŸ‡¿",
          "ðŸ‡³ðŸ‡¦", "ðŸ‡³ðŸ‡¨", "ðŸ‡³ðŸ‡ª", "ðŸ‡³ðŸ‡«", "ðŸ‡³ðŸ‡¬", "ðŸ‡³ðŸ‡®", "ðŸ‡³ðŸ‡±", "ðŸ‡³ðŸ‡´", "ðŸ‡³ðŸ‡µ",
          "ðŸ‡³ðŸ‡·", "ðŸ‡³ðŸ‡º", "ðŸ‡³ðŸ‡¿", "ðŸ‡´ðŸ‡²", "ðŸ‡µðŸ‡¦", "ðŸ‡µðŸ‡ª", "ðŸ‡µðŸ‡«", "ðŸ‡µðŸ‡¬", "ðŸ‡µðŸ‡­",
          "ðŸ‡µðŸ‡°", "ðŸ‡µðŸ‡±", "ðŸ‡µðŸ‡²", "ðŸ‡µðŸ‡³", "ðŸ‡µðŸ‡·", "ðŸ‡µðŸ‡¸", "ðŸ‡µðŸ‡¹", "ðŸ‡µðŸ‡¼", "ðŸ‡µðŸ‡¾",
          "ðŸ‡¶ðŸ‡¦", "ðŸ‡·ðŸ‡ª", "ðŸ‡·ðŸ‡´", "ðŸ‡·ðŸ‡¸", "ðŸ‡·ðŸ‡º", "ðŸ‡·ðŸ‡¼", "ðŸ‡¸ðŸ‡¦", "ðŸ‡¸ðŸ‡§", "ðŸ‡¸ðŸ‡¨",
          "ðŸ‡¸ðŸ‡©", "ðŸ‡¸ðŸ‡ª", "ðŸ‡¸ðŸ‡¬", "ðŸ‡¸ðŸ‡­", "ðŸ‡¸ðŸ‡®", "ðŸ‡¸ðŸ‡¯", "ðŸ‡¸ðŸ‡°", "ðŸ‡¸ðŸ‡±", "ðŸ‡¸ðŸ‡²",
          "ðŸ‡¸ðŸ‡³", "ðŸ‡¸ðŸ‡´", "ðŸ‡¸ðŸ‡·", "ðŸ‡¸ðŸ‡¸", "ðŸ‡¸ðŸ‡¹", "ðŸ‡¸ðŸ‡»", "ðŸ‡¸ðŸ‡½", "ðŸ‡¸ðŸ‡¾", "ðŸ‡¸ðŸ‡¿",
          "ðŸ‡¹ðŸ‡¦", "ðŸ‡¹ðŸ‡¨", "ðŸ‡¹ðŸ‡©", "ðŸ‡¹ðŸ‡«", "ðŸ‡¹ðŸ‡¬", "ðŸ‡¹ðŸ‡­", "ðŸ‡¹ðŸ‡¯", "ðŸ‡¹ðŸ‡°", "ðŸ‡¹ðŸ‡±",
          "ðŸ‡¹ðŸ‡²", "ðŸ‡¹ðŸ‡³", "ðŸ‡¹ðŸ‡´", "ðŸ‡¹ðŸ‡·", "ðŸ‡¹ðŸ‡¹", "ðŸ‡¹ðŸ‡»", "ðŸ‡¹ðŸ‡¼", "ðŸ‡¹ðŸ‡¿", "ðŸ‡ºðŸ‡¦",
          "ðŸ‡ºðŸ‡¬", "ðŸ‡ºðŸ‡²", "ðŸ‡ºðŸ‡³", "ðŸ‡ºðŸ‡¸", "ðŸ‡ºðŸ‡¾", "ðŸ‡ºðŸ‡¿", "ðŸ‡»ðŸ‡¦", "ðŸ‡»ðŸ‡¨", "ðŸ‡»ðŸ‡ª",
          "ðŸ‡»ðŸ‡¬", "ðŸ‡»ðŸ‡®", "ðŸ‡»ðŸ‡³", "ðŸ‡»ðŸ‡º", "ðŸ‡¼ðŸ‡«", "ðŸ‡¼ðŸ‡¸", "ðŸ‡½ðŸ‡°", "ðŸ‡¾ðŸ‡ª", "ðŸ‡¾ðŸ‡¹",
          "ðŸ‡¿ðŸ‡¦", "ðŸ‡¿ðŸ‡²", "ðŸ‡¿ðŸ‡¼", }
        local v = snip.env
        local ms = emojis[math.random(#emojis)] .. "  " ..
            v.TM_FILENAME .. ":" .. v.TM_LINE_NUMBER .. " " .. snip.captures[1] .. ":"
        return sn(1, i(1, ms))
      end),
      rep(1),
      c(2, { i(1, "num"), sn(1, { i(1, "arr"), t(".length") }) }),
      rep(1),
      i(3, "// TODO:"),
      i(4),
    }
  )
)

-- End Refactoring --

return snippets, autosnippets
